package com.xingray.graalvm.compiler.core.test;

import com.xingray.graalvm.compiler.common.CompilerException;
import com.xingray.graalvm.compiler.common.Platform;
import com.xingray.graalvm.compiler.core.CompileArgument;
import com.xingray.graalvm.compiler.core.Constants;
import com.xingray.graalvm.compiler.core.GraalvmCompiler;
import org.junit.jupiter.api.Test;

import java.util.Collections;

public class WindowsNativeCompilerTest {
    @Test
    public void testCompile() {
//        CompileArgument compileArgument = new CompileArgument();
//
//        compileArgument.setCompilePlatform(Platform.WINDOWS);
//        compileArgument.setTargetPlatform(Platform.WINDOWS);
//        compileArgument.setProjectDir("D:\\code\\demo\\javafx\\javafx-graalvm");
//        compileArgument.setOutputDir(compileArgument.getProjectDir()+"\\"+ Constants.buildPathRelativeToProject+"\\"+Constants.nativeBuildPathRelativeToBuild);
//        compileArgument.setMainClassName("com.xingray.javafx.graalvm.Launcher");
//        compileArgument.setClasspath("output/dependency;target/classes");
//        compileArgument.setGraalvmHome("D:\\develop\\java\\jdk\\graalvm\\19\\graalvm-ce-java19-22.3.1");
//        compileProject.setJavaVersion();
//        compileProject.setJavafxVersion();
//        compileArgument.setPackageType("image");
//        compileArgument.setDescription("graalvm demo");
//        compileArgument.setVendor("xingray");
//        compileArgument.setVersion("1.0.0");
//
//        compileArgument.setBundlesList(Collections.emptyList());
//        compileArgument.setJniList(Collections.emptyList());
//        compileArgument.setCompilerArgs(Collections.emptyList());
//        compileArgument.setLinkerArgs(Collections.emptyList());
//        compileArgument.setRuntimeArgs(Collections.emptyList());
//        compileArgument.setReflectionList(Collections.emptyList());
//        compileArgument.setAppId("com.xingray.graalvm-demo");
//        compileArgument.setAppName("launcher");
//        compileArgument.setUsePrismSW(false);
//        compileArgument.setSkipSigning(true);

//        compileArgument.setUsePrismSW(false);
//        compileArgument.setAppName("launcher");


//        GraalvmCompiler compiler = new GraalvmCompiler(compileArgument);
//        try {
//            compiler.executeCompile();
//            compiler.executeLink();
//            compiler.executePackage();
//            compiler.executeInstall();
//            compiler.executeRun();
//        } catch (CompilerException e) {
//            throw new RuntimeException(e);
//        }
    }

}
